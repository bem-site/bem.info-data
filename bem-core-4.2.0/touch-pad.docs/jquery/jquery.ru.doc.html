<h1 class="article__heading article__heading_1" id="jquery-4"><a href="#jquery-4" class="article__heading-anchor"></a>jquery</h1><p>Блок служит для загрузки и подключения на страницу библиотеки <a href="https://jquery.com">jQuery</a> и ее расширений.
Расширения подключаются через зависимости от элементов блока.</p>
<h2 class="article__heading article__heading_2" id="Способы-использования-2"><a href="#Способы-использования-2" class="article__heading-anchor"></a>Способы использования</h2><pre><code class="lang-js">modules.require([<span class="hljs-string">'jquery'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>) </span>{
    <span class="hljs-built_in">console</span>.log($);
});
</code></pre>
<h2 class="article__heading article__heading_2" id="Обзор-40"><a href="#Обзор-40" class="article__heading-anchor"></a>Обзор</h2><h3 class="article__heading article__heading_3" id="Элементы-блока-36"><a href="#Элементы-блока-36" class="article__heading-anchor"></a>Элементы блока</h3><table>
<thead>
<tr>
<th>Элемент</th>
<th>Способы использования</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#elems-config">config</a></td>
<td><code>JS</code></td>
<td>Настройки jQuery.</td>
</tr>
<tr>
<td><a href="#elems-event">event</a></td>
<td><code>JS</code></td>
<td>Расширения событийной модели jQuery.</td>
</tr>
</tbody>
</table>
<h3 class="article__heading article__heading_3" id="Свойства-и-методы-элементов-блока-6"><a href="#Свойства-и-методы-элементов-блока-6" class="article__heading-anchor"></a>Свойства и методы элементов блока</h3><table>
<thead>
<tr>
<th>Элемент</th>
<th>Имя</th>
<th>Тип возвращаемого значения</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#elems-config">config</a></td>
<td><a href="#fields-url">url</a></td>
<td><code>String</code></td>
<td>Строка с URL, подключаемой библиотеки jQuery.</td>
</tr>
</tbody>
</table>
<h3 class="article__heading article__heading_3" id="События-элементов-блока-2"><a href="#События-элементов-блока-2" class="article__heading-anchor"></a>События элементов блока</h3><table>
<thead>
<tr>
<th>Элемент</th>
<th>Имя</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#elems-event">event</a></td>
<td><a href="#events-pointerclick">pointerclick</a></td>
<td>Позволяет избавиться от задержки события <code>click</code> на тач-устройствах.</td>
</tr>
<tr>
<td></td>
<td><a href="#events-pointerover">pointerover</a></td>
<td>Генерируется, когда указатель устройства ввода находится над элементом.</td>
</tr>
<tr>
<td></td>
<td><a href="#events-pointerenter">pointerenter</a></td>
<td>Генерируется при входе указателя в активную зону элемента.</td>
</tr>
<tr>
<td></td>
<td><a href="#events-pointerdown">pointerdown</a></td>
<td>Генерируется при входе устройства ввода в состояние активного нажатия.</td>
</tr>
<tr>
<td></td>
<td><a href="#events-pointermove">pointermove</a></td>
<td>Генерируется при изменении координат указателя.</td>
</tr>
<tr>
<td></td>
<td><a href="#events-pointerup">pointerup</a></td>
<td>Генерируется по выходу из состояния активного нажатия.</td>
</tr>
<tr>
<td></td>
<td><a href="#events-pointerout">pointerout</a></td>
<td>Генерируется когда указатель покидает зону над элементаом.</td>
</tr>
<tr>
<td></td>
<td><a href="#events-pointerleave">pointerleave</a></td>
<td>Генерируется при выходе указателя из активной зоны элемента.</td>
</tr>
<tr>
<td></td>
<td><a href="#events-pointerpress">pointerpress</a></td>
<td>Генерируется по событию <code>pointerdown</code>.</td>
</tr>
<tr>
<td></td>
<td><a href="#events-pointerrelease">pointerrelease</a></td>
<td>Генерируется по событиям <code>pointerup</code> и <code>pointercancel</code>.</td>
</tr>
<tr>
<td></td>
<td><a href="#events-pointercancel">pointercancel</a></td>
<td>Генерируется в случаях, когда не предполагается дальнейшее возникновение pointer-событий или после генерации события <code>pointerdown</code>.</td>
</tr>
</tbody>
</table>
<h3 class="article__heading article__heading_3" id="Публичные-технологии-блока-50"><a href="#Публичные-технологии-блока-50" class="article__heading-anchor"></a>Публичные технологии блока</h3><p>Блок реализован в технологиях:</p>
<ul>
<li><code>js</code></li>
</ul>

<p><a name="elems-config"></a></p>
<h1 class="article__heading article__heading_1" id="Элемент-config-блока-jquery-2"><a href="#Элемент-config-блока-jquery-2" class="article__heading-anchor"></a>Элемент <code>config</code> блока <code>jquery</code></h1><p>Элемент предоставляет объект с настройками подключаемой библиотеки jQuery. Настройки хранятся как свойства объекта.</p>
<p><a name="fields"></a></p>
<h2 class="article__heading article__heading_2" id="Свойства-и-методы-объекта-50"><a href="#Свойства-и-методы-объекта-50" class="article__heading-anchor"></a>Свойства и методы объекта</h2><p><a name="fields-url"></a></p>
<h3 class="article__heading article__heading_3" id="Свойство-url-2"><a href="#Свойство-url-2" class="article__heading-anchor"></a>Свойство <code>url</code></h3><p>Тип: <code>String</code>.</p>
<p>Содержит строку с URL для загрузки jQuery.
В проекте значение свойства может быть переопределено. Тогда при подключении блока будет использовано новое значение, если библиотека jQuery не была подключена предварительно.</p>
<pre><code class="lang-js">modules.define(<span class="hljs-string">'jquery__config'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">provide</span>) </span>{

provide({ <span class="hljs-attr">url</span>: <span class="hljs-string">'//foo.bar/my-custom-jquery.js'</span> });

});
</code></pre>

<p><a name="elems-event"></a></p>
<h1 class="article__heading article__heading_1" id="Элемент-event-блока-jquery-2"><a href="#Элемент-event-блока-jquery-2" class="article__heading-anchor"></a>Элемент <code>event</code> блока <code>jquery</code></h1><p>Элемент реализует поддержку дополнительных типов событий jQuery. Дополнительные типы подключаются с помощью соответствующих значений модификатора <code>type</code>.</p>
<p><a name="modifiers"></a></p>
<h2 class="article__heading article__heading_2" id="Модификаторы-элемента-3"><a href="#Модификаторы-элемента-3" class="article__heading-anchor"></a>Модификаторы элемента</h2><p><a name="modifiers-name"></a></p>
<h3 class="article__heading article__heading_3" id="Модификатор-type-4"><a href="#Модификатор-type-4" class="article__heading-anchor"></a>Модификатор <code>type</code></h3><p>Предоставляет набор полифилов, реализующих уровень абстракции над jQuery-событиями устройств ввода. Это позволяет создавать общую логику для различных платформ (десктопы, телефоны и т.д.) и дополнять ее методами, специфическими для конкретного вида устройств.</p>
<p>Каждый полифил добавляет набор <strong>pointer-событий</strong>, для создания аппаратно-независимой логики.</p>
<p>Все pointer-события являются пользовательскими событиями jQuery. Подписка на pointer-события осуществляется стандартным образом:</p>
<pre><code class="lang-js">modules.define(<span class="hljs-string">'pointer-test'</span>, [<span class="hljs-string">'i-bem-dom'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">provide, bemDom</span>) </span>{

provide(bemDom.declBlock(<span class="hljs-keyword">this</span>.name, <span class="hljs-comment">/** @lends pointer-test.prototype */</span> {
    <span class="hljs-attr">onSetMod</span> : {
        <span class="hljs-attr">js</span> : {
            <span class="hljs-attr">inited</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-comment">// при инициализации подписываемся на pointerpress на самом блоке</span>
                <span class="hljs-keyword">this</span>._domEvents().on(<span class="hljs-string">'pointerpress'</span>, <span class="hljs-keyword">this</span>._onPress);
            }
        }
    },
    <span class="hljs-attr">_onPress</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-built_in">console</span>.log(e.type);
        <span class="hljs-comment">// при вызове обработчика для pointerpress подписываемся на pointerrelease</span>
        <span class="hljs-keyword">this</span>._domEvents().on(<span class="hljs-string">'pointerrelease'</span>, <span class="hljs-keyword">this</span>._onRelease);
    },
    <span class="hljs-attr">_onRelease</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-built_in">console</span>.log(e.type);
        <span class="hljs-comment">// при вызове обработчика для pointerrelease отписываемся от pointerrelease</span>
        <span class="hljs-keyword">this</span>._domEvents().un(<span class="hljs-string">'pointerrelease'</span>, <span class="hljs-keyword">this</span>._onRelease);
    }
}));
});
</code></pre>
<p>В зависимости от значения модификатора, будут подключены разные полифилы.</p>
<p><a name="modifiers-type-pointer"></a></p>
<h4 class="article__heading article__heading_4" id="Модификатор-type-в-значении-pointer-2"><a href="#Модификатор-type-в-значении-pointer-2" class="article__heading-anchor"></a>Модификатор <code>type</code> в значении <code>pointer</code></h4><p>Модификатор для подключения всех типов pointer-событий. Не вводит дополнительной логики.</p>
<p><a name="modifiers-type-pointerclick"></a></p>
<h4 class="article__heading article__heading_4" id="Модификатор-type-в-значении-pointerclick-2"><a href="#Модификатор-type-в-значении-pointerclick-2" class="article__heading-anchor"></a>Модификатор <code>type</code> в значении <code>pointerclick</code></h4><p>Подключает полифил, реализующий событие <code>pointerclick</code>.</p>
<p><a name="events-pointerclick"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointerclick-2"><a href="#Событие-pointerclick-2" class="article__heading-anchor"></a>Событие <code>pointerclick</code></h5><p>Генерируется по нажатию левой клавиши мыши или в момент контакта с рабочей поверхностью устройства. Использование <code>pointerclick</code> позволяет избавиться от задержки события <code>click</code> на тач-устройствах.</p>
<p><a name="modifiers-type-pointernative"></a></p>
<h4 class="article__heading article__heading_4" id="Модификатор-type-в-значении-pointernative-2"><a href="#Модификатор-type-в-значении-pointernative-2" class="article__heading-anchor"></a>Модификатор <code>type</code> в значении <code>pointernative</code></h4><p>Подключает полифил, реализующий базовую функциональность модели <a href="http://www.w3.org/TR/pointerevents/">W3C Pointer Events</a>.</p>
<p>С модификатором доступен следующий набор событий:</p>
<p><a name="events-pointerover"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointerover-2"><a href="#Событие-pointerover-2" class="article__heading-anchor"></a>Событие <code>pointerover</code></h5><p>Генерируется:</p>
<ul>
<li>Когда указатель находится над элементом.</li>
<li>Перед событием <code>pointerdown</code>, для устройств, не поддерживающих <code>hover</code>.</li>
</ul>
<p><a name="events-pointerenter"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointerenter-2"><a href="#Событие-pointerenter-2" class="article__heading-anchor"></a>Событие <code>pointerenter</code></h5><p>Генерируется:</p>
<ul>
<li>При входе указателя в <em>активную зону</em> элемента. Когда указатель находится над элементом или одним из его потомков.</li>
<li>По событию <code>pointerdown</code> для устройств, не поддерживающих <code>hover</code>.</li>
</ul>
<p>Событие аналогично <code>pointerover</code>, но не всплывает.</p>
<p><a name="events-pointerdown"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointerdown-2"><a href="#Событие-pointerdown-2" class="article__heading-anchor"></a>Событие <code>pointerdown</code></h5><p>Генерируется в момент, когда устройство ввода входит в состояние <em>активного нажатия</em>:</p>
<ul>
<li>Для мыши – когда хотя бы одна клавиша нажата.</li>
<li>Для перьевых и тач- устройств – состояние контакта с рабочей поверхностью устройства.</li>
</ul>
<p><a name="events-pointermove"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointermove-2"><a href="#Событие-pointermove-2" class="article__heading-anchor"></a>Событие <code>pointermove</code></h5><p>Генерируется при изменении координат указателя.</p>
<p><a name="events-pointerup"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointerup-2"><a href="#Событие-pointerup-2" class="article__heading-anchor"></a>Событие <code>pointerup</code></h5><p>Генерируется по выходу из состояния <em>активного нажатия</em>:</p>
<ul>
<li>Для мыши это соответствует переходу от состояния, когда была нажата хотя бы одна клавиша, к состоянию без нажатых клавиш.</li>
<li>Для перьевых и тач- устройств – моменту разрыва контакта с рабочей поверхностью устройства.</li>
</ul>
<p><a name="events-pointerout"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointerout-2"><a href="#Событие-pointerout-2" class="article__heading-anchor"></a>Событие <code>pointerout</code></h5><p>Генерируется при выходе указателя из <em>активной зоны</em> элемента:</p>
<ul>
<li>Когда указатель покидает зону над элементом или одним из его потомков.</li>
<li>После событий <code>pointerup</code> и <code>pointercancel</code> для устройств, не поддерживающих <code>hover</code>. Например, когда стилус (палец) покидает рабочую зону устройства.</li>
</ul>
<p><a name="events-pointerleave"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointerleave-2"><a href="#Событие-pointerleave-2" class="article__heading-anchor"></a>Событие <code>pointerleave</code></h5><p>Генерируется при выходе указателя из <em>активной зоны</em> элемента:</p>
<ul>
<li>Когда указатель покидает зону над элементом или одним из его потомков.</li>
<li>После событий <code>pointerup</code> и <code>pointercancel</code> для устройств, не поддерживающих <code>hover</code>.</li>
</ul>
<p>Событие аналогично <code>pointerout</code>, но не всплывает.</p>
<p><a name="events-pointercancel"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointercancel-2"><a href="#Событие-pointercancel-2" class="article__heading-anchor"></a>Событие <code>pointercancel</code></h5><p>Генерируется в случаях, когда:</p>
<ul>
<li>Не предполагается дальнейшее возникновение pointer-событий (например, в следствие изменения аппаратных настроек).</li>
<li>После генерации события <code>pointerdown</code>, если указатель был использован для масштабирования страницы.</li>
</ul>
<p>Например, событие генерируется при изменении ориентации устройства пока оно находится в состояние <em>активного нажатия</em>. Или при превышении лимита на количество одновременных нажатий, поддерживаемых устройством.</p>
<p>После генерации события <code>pointercancel</code> последовательно генерируются события <code>pointerout</code> и <code>pointerleave</code>.</p>
<p><a name="modifiers-type-pointerpressrealease"></a></p>
<h4 class="article__heading article__heading_4" id="Модификатор-type-в-значении-pointerpressrealease-2"><a href="#Модификатор-type-в-значении-pointerpressrealease-2" class="article__heading-anchor"></a>Модификатор <code>type</code> в значении <code>pointerpressrealease</code></h4><p>Подключает полифил, реализующий события <code>pointerpress</code> и <code>pointerrelease</code>. Полифил использует события Pointer Events.</p>
<p><a name="events-pointerpress"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointerpress-2"><a href="#Событие-pointerpress-2" class="article__heading-anchor"></a>Событие <code>pointerpress</code></h5><p>Генерируется по событию <code>pointerdown</code>.</p>
<p><a name="events-pointerrelease"></a></p>
<h5 class="article__heading article__heading_5" id="Событие-pointerrelease-2"><a href="#Событие-pointerrelease-2" class="article__heading-anchor"></a>Событие <code>pointerrelease</code></h5><p>Генерируется по событиям <code>pointerup</code> и <code>pointercancel</code>.</p>
